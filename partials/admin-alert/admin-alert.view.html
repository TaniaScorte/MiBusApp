<link rel="stylesheet" href="css/table/table.style.css">

<style>
    #map{
height: 400px;
}
</style>
<script type="text/javascript">
    
</script>

<div nav-admin></div>

<div class="contenedor">
    <div class="table-wrapper">
        <div>
            <div class="row">
                <div class="col-sm-6">
                    <h2>Visualizaci贸n de alertas</b></h2>
                </div>
            </div>
        </div>
<div class="form-group row">
    <label for="busqueda control-labe col-2" style="font-size: 130%;">Buscar</label><input type="text" id="busqueda" class="form-control col-6 mb-3 ml-3"  ng-model="busqueda" ng-change="buscar(busqueda)">
</div>
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Recorrido</th>
                        <th>Descripci贸n del viaje</th>
                        <th>Hora del viaje</th>
                        <th>Mensaje</th>
                        <th>Tipo</th>
                        <th>Ver ubicaci贸n</th>
                    </tr>
                </thead>
                <tbody>


                    <tr ng-repeat="item in filtroItems">
                        <td>{{item.RecorridoNombre}}</td>
                        <td>{{item.ViajeDescripcion}}</td>
                        <td>{{item.HoraSalida}}</td>
                        <td>{{item.Mensaje}}</td>
                        <td>{{item.TipoAlertaId}}</td>
                        <td>
                            <a href="" class='delete'data-toggle="modal" data-target="#modalAlerta"
                                ng-click="verBus(item.Latitud, item.Longitud)"><i class="fa fa-map-marker" data-toggle="tooltip" title="Borrar"
                                    data-original-title="Borrar"></i></a>
                        </td>
                    </tr>

                </tbody>

            </table>

            
        </div>
        <ul uib-pagination total-items="totalItems" max-size="5" boundary-link-numbers="true" rotate="false" next-text="Siguiente" previous-text="Anterior" items-per-page="numPerPage" ng-model="currentPage"></ul>

    </div>


    <!-- Modal -->
<div class="modal fade" id="modalAlerta" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">ubicaci贸n</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div id="mapa">
                <div id="map"></div>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>


</div>

